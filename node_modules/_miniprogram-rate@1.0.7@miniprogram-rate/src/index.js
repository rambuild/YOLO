Component({
  properties: {
    // 自定义 class 类名
    iClass: {
      type: String,
      value: ''
    },
    // star 总数
    count: {
      type: Number,
      value: 5
    },
    // 当前 star 数
    value: {
      type: Number,
      value: 0
    },
    // 是否只读，无法进行交互
    disabled: {
      type: Boolean,
      value: false
    },
    size: {
      type: Number,
      value: 32
    },
    // 显示取消按钮来重置 star 数量
    cancel: {
      type: Boolean,
      value: false
    },
    cancelPlace: {
      type: String,
      value: 'left'
    },
    // 选中图标
    starOn: {
      type: String,
      value: './images/star-on.png'
    },
    // 未选中的图标
    starOff: {
      type: String,
      value: './images/star-off.png'
    },
    // 开启定义表情包
    faceIcon: {
      type: Boolean,
      value: false
    },
    // 定义表情包数组
    faceIconArr: {
      type: Array,
      value: ['./images/face-a.png', './images/face-a.png', './images/face-b.png', './images/face-c.png', './images/face-d.png']
    }
  },
  lifetimes: {
    attached() {
    }
  },
  methods: {
    change(event) {
      if (this.properties.disabled) return
      const {index} = event.currentTarget.dataset
      this.setData({
        value: index + 1
      })
      this.triggerEvent('change', {index: this.properties.value}, {})
    },
    cancel() {
      this.setData({
        value: 0
      })
      this.triggerEvent('cancel', {index: this.properties.value}, {})
    }
  }
})
